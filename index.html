<html>

<head>
    <title>Home | Faketour</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="/menu/styles.css">
    <script type="text/javascript" src="/menu/loadMenu.js"></script>
</head>

<body>
    <div class="content"></div>
    <div class="topnav" style="font-family: Nunito"></div>
    <script type="text/javascript">loadMenu("Home");</script>
    <h1>FakeTour</h1>
    <img src="/img?image=current_icon" />
    <div id="buttons">
        <button id="button1" class="bold large">Matches</button>
        <button id="button2" class="bold large">Brackets</button>
    </div>
    <div class="footer" id="footer"></div>
</body>
<script type="text/javascript">
    const buttonMapping = {
        0: {
            a: {
                name: "Login",
                href: "account/login/"
            },
            b: {
                name: "Create Account",
                href: "account/create/"
            }
        },
        1: {
            a: {
                name: "Results",
                href: "event.php?target=results"
            },
            b: {
                name: "Decklists",
                href: "event.php?target=decks"
            }
        },
        2: {
            a: {
                name: "About",
                href: "event.php?target=about"
            },
            b: {
                name: "Register",
                href: "/events/"
            }
        },
        3: {
            a: {
                name: "About",
                href: "event.php?target=about"
            },
            b: {
                name: "Submit Decklist",
                href: "/constructed/"
            }
        },
        4: {
            a: {
                name: "Matches",
                href: "/matches/"
            },
            b: {
                name: "Brackets",
                href: "/matches/brackets/"
            }
        }
    }

    fetch('event.php')
        .then(response => response.text())
        .then(response => {
            const code = Number(response);
            let targets = buttonMapping[code];
            button1.innerHTML = targets.a.name;
            button1.onclick = () => { window.location.href = targets.a.href }
            button2.innerHTML = targets.b.name;
            button2.onclick = () => { window.location.href = targets.b.href }
        });

</script>

</html>